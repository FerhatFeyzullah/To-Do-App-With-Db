@{
	Layout = "~/Views/Shared/_Layout1.cshtml";
}

@model List<ToDoAppWithDb.Models.ToDo>
<style>
	.completed {
		text-decoration: line-through;
		color: gray;
	}
</style>

<b><p>Hoşgeldin, @Context.Session.GetString("Username")</p></b>

<table class="table table-bordered">
	<thead>
		<tr>
			<th>Görevler</th>
			<th>Durum</th>
		</tr>
	</thead>
	<tbody>

		@foreach (var t in Model)
		{
			<tr>
				<td id="td-@t.ID" class="@(t.IsComp ? "completed" : "")">
					@t.Task
				</td>
				<td>
					<input type="checkbox" class="form-check-input" id="cb-@t.ID"
					@(t.IsComp ? "checked" : "")
						   onchange="toggleComplete(@t.ID)" />
				</td>
			</tr>
		}

	</tbody>
</table>

<div class="mt-5">
	<a href="/Todo/ToDoAdd" class="btn btn-primary">Yeni Görev Ekle</a>
</div>

